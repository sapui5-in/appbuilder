<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core">
    <VBox id="idVBoxAggregationSelector" class="rightSidebarBlock" height="100%">
        <Toolbar>
            <Title text="AGGREGATION SELECTION" class="rightSidebarBlockTitle"/>
        </Toolbar>
        <VBox class="sapUiSmallMargin" height="calc(100% - 4rem)">
            <SegmentedButton width="100%" selectionChange="onSelectionChangeAggregationType"
                             selectedKey="{msModel>/aggregationType}">
                <items>
                    <SegmentedButtonItem key="Manual" text="Manual"/>
                    <SegmentedButtonItem key="Template" text="Template"
                                         enabled="{= !!${msModel>/multiple}}"/>
                </items>
            </SegmentedButton>
            <Label text="Select" design="Bold" class="sapUiTinyMarginTop"/>
            <ComboBox items="{ path: 'msModel>/templateControls' }" width="100%"
                      selectedKey="{msModel>/selectedAggregationItem}">
                <core:Item key="{msModel>key}" text="{msModel>text}"/>
            </ComboBox>
            <Toolbar style="Clear">
                <ToolbarSpacer/>
                <Button text="{= ${msModel>/aggregationType} === 'Template' ? 'Set as Template' : 'Add Control'}"
                        press="onPressAddControlInAggregation"/>
            </Toolbar>
        </VBox>
    </VBox>
</core:FragmentDefinition>